{"version":3,"sources":["webpack:///../packages/component/src/components/select/demo/demo8.js"],"names":["timestamp","Date","now","Demo8","searchTimeout","useRef","useState","dataSource","setDataSource","className","showSearch","placeholder","filterLocal","onSearch","value","current","clearTimeout","setTimeout","fetchJsonp","then","response","json","data","newDataSource","result","map","item","label","toString","style","width","demoMeta","zhName","zhDesc","_demoSrcFiles","__demo_loader_placeholder__"],"mappings":"yQAIIA,EAAYC,KAAKC,MAwCNC,UAtCD,WACZ,IAAMC,EAAgBC,iBAAO,MADX,EAEkBC,mBAAS,IAAtCC,EAFW,KAECC,EAFD,KAwBlB,OACE,yBAAKC,UAAU,kBACb,kBAAC,SAAD,CACEC,YAAU,EACVC,YAAY,gBACZC,aAAa,EACbL,WAAYA,EACZM,SA5Be,SAAAC,GACfV,EAAcW,SAChBC,aAAaZ,EAAcW,SAE7BX,EAAcW,QAAUE,YAAW,WAC7BH,EACFI,IAAW,+CAA+CJ,GACvDK,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACJ,IAAMC,EAAgBD,EAAKE,OAAOC,KAAI,SAAAC,GAAI,MAAK,CAC7CC,MAAOD,EAAK,GACZZ,OAAQd,KAAa4B,SAAS,QAEhCpB,EAAce,MAGlBf,EAAc,MAEf,MAWCqB,MAAO,CAAEC,MAAO,SAQjB,IAAMC,EAAW,CACtBC,OAAO,MACPC,OACE,8DAGWC,EAAgBC","file":"279-dfe9711b9c2506cceeb2.js","sourcesContent":["import React, { useState, useRef } from 'react'\nimport { Select } from '@alicloud/console-components'\nimport fetchJsonp from 'fetch-jsonp'\n\nlet timestamp = Date.now()\n\nconst Demo8 = () => {\n  const searchTimeout = useRef(null)\n  const [dataSource, setDataSource] = useState([])\n  const handleSearch = value => {\n    if (searchTimeout.current) {\n      clearTimeout(searchTimeout.current)\n    }\n    searchTimeout.current = setTimeout(() => {\n      if (value) {\n        fetchJsonp(`https://suggest.taobao.com/sug?code=utf-8&q=${value}`)\n          .then(response => response.json())\n          .then(data => {\n            const newDataSource = data.result.map(item => ({\n              label: item[0],\n              value: (timestamp++).toString(36),\n            }))\n            setDataSource(newDataSource)\n          })\n      } else {\n        setDataSource([])\n      }\n    }, 100)\n  }\n\n  return (\n    <div className=\"demo-container\">\n      <Select\n        showSearch\n        placeholder=\"select search\"\n        filterLocal={false}\n        dataSource={dataSource}\n        onSearch={handleSearch}\n        style={{ width: 200 }}\n      />\n    </div>\n  )\n}\n\nexport default Demo8\n\nexport const demoMeta = {\n  zhName: `搜索框`,\n  zhDesc:\n    '使用 `showSearch` 显示搜索框，如果需要动态更新 dataSource，需要关闭 filterLocal',\n}\n;\n  export const _demoSrcFiles = __demo_loader_placeholder__"],"sourceRoot":""}