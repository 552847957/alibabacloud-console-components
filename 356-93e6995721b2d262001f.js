(window.webpackJsonp=window.webpackJsonp||[]).push([[356],{xgDK:function(n,e,t){"use strict";t.r(e),t.d(e,"default",(function(){return l})),t.d(e,"_demoSrcFiles",(function(){return d}));t("VlJN"),t("YjJN"),t("Eb4t"),t("Fdmb"),t("IYjZ"),t("yvkl"),t("abGl");var r=t("mXGw"),o=t.n(r),a=t("BgHK");function i(n){return function(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var s=a.Tree.Node,c=[];!function n(e,t,r){for(var o=t||"0",a=r||c,i=[],s=0;s<3;s++){var l=o+"-"+s;a.push({label:l,key:l}),s<2&&i.push(l)}if(e<0)return a;var d=e-1;i.forEach((function(e,t){return a[t].children=[],n(d,e,a[t].children)}))}(1);var l=function(n){var e,t;function r(e){var t;return(t=n.call(this,e)||this).state={gData:c},t}t=n,(e=r).prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t;var l=r.prototype;return l.onDrop=function(n){var e,t,r=n.dragNode.props.eventKey,o=n.node.props.eventKey,a=n.dropPosition,s=function n(e,t,r){e.forEach((function(e,o,a){return e.key===t?r(e,o,a):e.children?n(e.children,t,r):void 0}))},c=i(this.state.gData);(s(c,r,(function(n,e,t){t.splice(e,1),ragObj=n})),0===n.dropPosition)?s(c,o,(function(n){n.children=n.children||[],n.children.push(void 0)})):(s(c,o,(function(n,r,o){e=o,t=r})),-1===a?e.splice(t,0,void 0):e.splice(t+1,0,void 0));this.setState({gData:c})},l.render=function(){return o.a.createElement(a.Tree,{draggable:!0,selectable:!1,isLabelBlock:!0,defaultExpandedKeys:["0-0","0-0-0","0-0-0-0"],onDrop:this.onDrop.bind(this)},function n(e){return e.map((function(e){return e.children?o.a.createElement(s,{key:e.key,label:e.key},n(e.children)):o.a.createElement(s,{key:e.key,label:e.key})}))}(this.state.gData))},r}(o.a.Component),d={".babelrc":'{\n  "presets": ["env"],\n  "plugins": [\n    "transform-runtime",\n    [\n      "transform-react-jsx",\n      {\n        "pragma": "React.createElement"\n      }\n    ],\n    "@babel/plugin-proposal-class-properties"\n  ],\n  "parserOpts": {\n    "plugins": ["dynamicImport"]\n  }\n}\n',"index.html":'<!DOCTYPE html>\n<html>\n  <head>\n    <title>Parcel Sandbox</title>\n    <meta charset="UTF-8" />\n  </head>\n\n  <body>\n    <div id="app"></div>\n\n    <script src="src/index.jsx"><\/script>\n  </body>\n</html>\n',"src/index.jsx":'import * as React from "react";\nimport { render } from "react-dom";\nimport "@alicloud/console-components/dist/wind.css";\nimport App from "./demo/demo9";\nimport "./styles.less";\n\nconst rootElement = document.getElementById("app");\nrender(<App />, rootElement);\n',"package.json":'{\n  "name": "parcel-sandbox",\n  "version": "1.0.0",\n  "description": "Simple Parcel Sandbox",\n  "main": "index.html",\n  "scripts": {\n    "start": "parcel index.html --open",\n    "build": "parcel build index.html"\n  },\n  "dependencies": {\n    "react": "16.8.6",\n    "react-dom": "16.8.6",\n    "@alicloud/console-components": "latest",\n    "styled-components": "^4.2.0",\n    "moment": "^2.21.0",\n    "react-copy-to-clipboard": "^5.0.1",\n    "react-dnd": "^8.0.0",\n    "react-dnd-html5-backend": "^8.0.0"\n  },\n  "devDependencies": {\n    "@babel/core": "7.2.0",\n    "parcel-bundler": "^1.6.1",\n    "typescript": "^3.7.2",\n    "@types/styled-components": "^4.1.8",\n    "@types/react": "16.8.8",\n    "@types/react-dom": "16.8.2"\n  }\n}\n',"sandbox.config.json":'{\n  "infiniteLoopProtection": true,\n  "hardReloadOnChange": false,\n  "view": "browser"\n}',"src/styles.less":"","src/demo/demo9.js":"import React from 'react'\nimport { Tree } from '@alicloud/console-components'\n\nconst TreeNode = Tree.Node\n\nconst x = 3\nconst y = 2\nconst z = 1\nconst gData = []\n\nconst generateData = (_level, _preKey, _tns) => {\n  const preKey = _preKey || '0'\n  const tns = _tns || gData\n\n  const children = []\n  for (let i = 0; i < x; i++) {\n    const key = `${preKey}-${i}`\n    tns.push({ label: key, key })\n    if (i < y) {\n      children.push(key);\n    }\n  }\n  if (_level < 0) {\n    return tns\n  }\n  const level = _level - 1\n  children.forEach((key, index) => {\n    tns[index].children = [];\n    return generateData(level, key, tns[index].children);\n  })\n}\ngenerateData(z)\n\nexport default class Demo9 extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      gData\n    }\n  }\n\n  onDrop(info) {\n    const dragKey = info.dragNode.props.eventKey\n    const dropKey = info.node.props.eventKey\n    const dropPosition = info.dropPosition\n    const loop = (data, key, callback) => {\n      data.forEach((item, index, arr) => {\n        if (item.key === key) {\n          return callback(item, index, arr)\n        }\n        if (item.children) {\n          return loop(item.children, key, callback)\n        }\n      })\n    }\n    const data = [...this.state.gData]\n    let dragObj\n    loop(data, dragKey, (item, index, arr) => {\n      arr.splice(index, 1)\n      ragObj = item\n    })\n    if (info.dropPosition === 0) {\n      loop(data, dropKey, (item) => {\n        item.children = item.children || []\n        item.children.push(dragObj)\n      })\n    } else {\n      let ar\n      let i\n      loop(data, dropKey, (item, index, arr) => {\n        ar = arr\n        i = index\n      })\n      if (dropPosition === -1) {\n        ar.splice(i, 0, dragObj);\n      } else {\n        ar.splice(i + 1, 0, dragObj);\n      }\n    }\n    this.setState({\n      gData: data,\n    })\n  }\n  \n  render() {\n    const loop = data => data.map(item => {\n      if (item.children) {\n        return <TreeNode key={item.key} label={item.key}>{loop(item.children)}</TreeNode>;\n      }\n      return <TreeNode key={item.key} label={item.key} />;\n    })\n\n    return (\n      <Tree draggable selectable={false} isLabelBlock defaultExpandedKeys={['0-0', '0-0-0', '0-0-0-0']} onDrop={this.onDrop.bind(this)}>\n        {loop(this.state.gData)}\n      </Tree>\n    )\n  }\n}","demoMeta.json":'{"entryPath":"src/demo/demo9.js"}'}}}]);
//# sourceMappingURL=356-93e6995721b2d262001f.js.map